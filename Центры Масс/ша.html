<html>
<head><script src ="функцииSVGобозначений.js"></script>
</head>
<body>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xml="http://www.w3.org/XML/1998/namespace" xmlns:xlink="http://www.w3.org/1999/xlink" width="500" height="360">
	<g id="тело_1" transform="translate(150,150)">
		<path d="m-100,0 l 200,0 m 0,-50 l0,100" stroke="black"/>
		<g id="тело_2" transform="translate(100,-50) rotate(0)" видКП = "ВКП" осьКП="Z">
			<path d="m0,0 L 100,0" stroke="black"/>
			<circle r="10" cx="0" cy="0" stroke="black" fill="white"/>
			<g id="тело_3" transform="translate(100,0) rotate(0)" видКП = "ВКП" осьКП="Z">
				<path d="m0,0 l 100,0" stroke="black"/>
				<circle r="10" cx="0" cy="0" stroke="black" fill="white"/>
			</g>
		</g>
		<g id="тело_4" transform="translate(100,50) rotate(0)" видКП = "ВКП" осьКП="Z">
			<path d="m0,0 L 100,0" stroke="black"/>
			<circle r="10" cx="0" cy="0" stroke="black" fill="white"/>
			<g id="тело_5" transform="translate(100,0) rotate(0)" видКП = "ВКП" осьКП="Z">
				<path d="m0,0 l 100,0" stroke="black"/>
				<circle r="10" cx="0" cy="0" stroke="black" fill="white"/>
			</g>
		</g>
</svg>
</body>
<span ></span>
<script>
	var N = document.getElementsByTagName("g").length-1, CM = [,[0,0],[0,0],[0,0]], pol = [,[0,0],[0,0],[0,0]], CMp=[,[0,0],[0,0],[0,0]];
	makePolz();
	setMassCenter();
	calculCoord();
	function calculCoord(){
		var l3 = 100, r3 = 50, r2 = 150;
		var trans2 = document.getElementById("тело_2").getAttribute("transform"),
		trans3 = document.getElementById("тело_3").getAttribute("transform");
		var t = trans2.match(/translate\((.*?)\)/)[1].split(","); //перемещение второго тела
		var a = 0.0175*trans3.match(/rotate\((-?\d+)\)/)[1]; // поворот третьего тела
		CM[1][0] = 0;
		CM[1][1] = 100;
		CM[2][0] =  t[0] - r2; // координата x ЦМ тела 2
		CM[2][1] = 0; // координата y
		pol[3][0] = parseFloat(t[0]);  // координата x полюса тела 3
		pol[3][1] = parseFloat(t[1]); // координата y
		CM[3][0] = r3 * Math.cos(a).makeRound() + pol[3][0]; // координата x ЦМ тела 2
		CM[3][1] = r3 * Math.sin(a).makeRound() + pol[3][1]; // координата y
		CMp[2][0] = (CM[2][0]+CM[3][0])/2; // координата ЦМ второй подсистемы
		CMp[2][1] = (CM[2][1]+CM[3][1])/2; // координата ЦМ второй подсистемы
		drawLine(CM[2], CM[3],CM[1], CMp[2]);
		
	}
</script>
</html>

